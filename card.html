<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>card</title>
    <link rel="stylesheet" href="app.css" />
    <!-- link font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  </head>
  <body>
    <div class="fContainer">
      <div class="card-list">
        <!-- card1 -->
        <div class="card" id="card1">
          <img src="assets/3 1.png" alt="dfg" />
          <div class="desc">
            <h5>The boy who cried wolf</h5>
            <p>Once, there was a boy who became bored when he watched over the village sheep grazing on the hillside</p>
          </div>
        </div>
        <!-- card2 -->
        <div class="card" id="card2">
          <img src="assets/4 1.png" alt="as" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card3 -->
        <div class="card">
          <img src="assets/5 1.png" id="card3" alt="al" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card4 -->
        <div class="card">
          <img src="assets/6 1.png" id="card4" alt="dd" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card5 -->
        <div class="card">
          <img src="assets/7 1.png" id="card5" alt="" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card1 -->
        <div class="card">
          <img src="assets/4 1.png" alt="" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card1 -->
        <div class="card">
          <img src="assets/6 1.png" alt="" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card1 -->
        <div class="card">
          <img src="assets/5 1.png" alt="" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card1 -->
        <div class="card">
          <img src="assets/3 1.png" alt="" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>
        <!-- card1 -->
        <div class="card">
          <img src="assets/3 1.png" alt="" />
          <div class="desc">
            <h5>Petualangan Si Kelinci Kecil di Hutan Ajaib`</h5>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil, harum.</p>
          </div>
        </div>

        <br />
        <br /><br /><br />

        <img src="assets/main page.png" alt="bg-main" class="bg-main" />
      </div>
    </div>
    <!-- end container -->

    <div class="floatingPop popdisplay">
      <input type="text" name="keyword" />

      <div id="btn">
        <button id="search">Search</button>
        <button id="clear">X</button>
      </div>
      <div class="data">
        <a href="#"></a>
      </div>
      <!-- <img src="assets/3 1.png" alt="" class="popdisplay"> -->
      <button id="close">X</button>
    </div>

    <div id="btnFloat"><i class="fa fa-search"></i></div>

    <!-- bg -->
    <script>
      // card 1

      const card1 = document.querySelector("#card1");
      const card2 = document.querySelector("#card2");
      const card3 = document.querySelector("#card3");
      const card4 = document.querySelector("#card4");
      const card5 = document.querySelector("#card5");
      const card = document.querySelector(".card");

      const url1 = "card1.html";
      const url2 = "card2.html";
      const url3 = "card3.html";
      const url4 = "card4.html";
      const url5 = "card5.html";

      card1.addEventListener("click", () => {
        location.href = url1;
      });
      card2.addEventListener("click", () => {
        location.href = url2;
      });
      card3.addEventListener("click", () => {
        location.href = url3;
      });
      card4.addEventListener("click", () => {
        location.href = url4;
      });
      card5.addEventListener("click", () => {
        location.href = url5;
      });

      // event search ðŸ˜€
      // selector
      const btnCari = document.querySelector(".fa-search");
      const cardList = document.querySelector(".card-list");
      const pop = document.querySelector(".floatingPop");
      const btnClose = document.querySelector("#close");
      // main search component
      const btnClear = document.querySelector("#clear");
      const btnSearch = document.querySelector("#search");
      const searchBox = document.getElementsByName("keyword")[0];

      // data anomali

      const data = [
        // title mean search btn click by keyword
        // show title, when clicked => target
        { title: "konten card 1", url: "http://127.0.0.1:3000/card1.html" },
        { title: "konten card 2", url: "http://127.0.0.1:3000/card2.html" },
        { title: "konten card 3", url: "http://127.0.0.1:3000/card3.html" },
        { title: "konten card 4", url: "http://127.0.0.1:3000/card4.html" },
        { title: "konten card 5", url: "http://127.0.0.1:3000/card5.html" },
        { title: "konten card 6", url: "http://127.0.0.1:3000/card6.html" },
        { title: "konten card 7", url: "http://127.0.0.1:3000/card7.html" },
        { title: "all", url: "_blank" },
      ];

      // data section selection

      const data_section = document.getElementsByClassName("data")[0];

      btnCari.addEventListener("click", () => {
        // floating button click => show popup
        pop.classList.toggle("pop");

        cardList.classList.toggle("listCard");

        btnClose.addEventListener("click", () => {
          pop.classList.remove("pop");
          cardList.classList.remove("listCard");
        });
      });

      btnClear.addEventListener("click", (event) => {
        // searchBox refer to tag input
        // when even btnClear => click, value input reset / clear value
        searchBox.value = "";
      });

      btnSearch.addEventListener("click", (event) => {
        // when btnSearch onClick => searching data save into a function
        searchData();
      });

      // data value
      searchBox.addEventListener("keyup", (event) => {
        // keyup is properti eventListener, when keyboar click === code
        // 13 === enter / btnSearch when clicked
        // inside load a condition, if keycode === true {execute}
        // in this case doing searching data by the keyword and tried show data
        // beside data anomali avail
        if (event.keyCode === 13) {
          searchData();
          data_section.classList.remove("d-flex");
        }
      });

      // declare function SearchData
      function searchData() {
        // save tag input into new varible search_value
        // .value.toLowerCase() is mean every input whose value mixing or CAPITALIZE
        // will be all small char
        const search_value = searchBox.value.toLowerCase();

        // becouse data anomali is object, we couldn't call direct
        // save into new variable

        const data_filtered = data.slice(0);

        // lakukan perulanmgan ketika data diketik berdasarkan "keyword " apakah ada atu tidak
        data_section.innerHTML = "";
        for (let i = 0; i < data_filtered.length; i++) {
          if (data_filtered[i].toLowerCase().includes(search_value)) {
            // maka lakukan ambil alih lis data a href default menjadi data anomali berdasarkan keyword

            data_section.innerHTML += `<a href=${data_filtered[i][title]}>${data_filtered[i][url]}</a>`;
          }
        }
      }

      //event listener reload

      btnCari.classList.add("btnFloat");
    </script>
  </body>
</html>
